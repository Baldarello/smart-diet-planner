import type { Locale } from '../types';

const translations = {
  it: {
    // App.tsx
    mainTitle: "LifePulse",
    mainSubtitle: "Il tuo assistente intelligente per la pianificazione dei pasti.",
    changeDiet: "Nuovo Piano",
    changeDietTitle: "Crea o ripristina un piano",
    exportPlan: "Esporta",
    exportPlanTitle: "Esporta i dati del piano in formato JSON",
    tabDashboard: "Dashboard",
    tabDaily: "Oggi",
    goToToday: "Vai a Oggi",
    goToTodayView: "Visualizza e modifica il piano di oggi",
    tabWeekly: "Piano Principale",
    tabShopping: "Spesa",
    tabPantry: "Dispensa",
    tabArchive: "Archivio",
    tabProgress: "Progressi",
    tabCalendar: "Calendario",
    tabSettings: "Impostazioni",
    welcomeTitle: "Inizia un Nuovo Piano Dietetico",
    welcomeSubtitle: "Importa il file JSON del tuo piano per iniziare.",
    uploadPdfTitle: "Carica il tuo Piano",
    viewArchived: "Vedi Piani Archiviati",
    uploadNew: "Carica un Nuovo Piano Dietetico",
    footer: "Realizzata per aiutare a rispettare quotidianamente tutti gli aspetti di una vita sana e per migliorare l'attitudine dell'utente.",
    errorAndUpload: "Per favore, prova a caricare un nuovo file",
    onlineModeTitle: "ModalitÃ  Online: Analisi AI e nutrizione attive.",
    offlineModeTitle: "ModalitÃ  Offline: Quota API superata. FunzionalitÃ  di base attive.",
    cancelAndReturn: "Annulla e torna al piano",
    restoreFromArchiveTitle: "Oppure, ripristina un piano archiviato",
    planManagement: "Gestione Piano",
    settings: "Impostazioni",
    theme: "Tema",
    language: "Lingua",
    connectionStatus: "Stato Connessione",
    navigation: "Navigazione",
    loginSuggestionTitle: "Sincronizza i Tuoi Progressi",
    loginSuggestionMessage: "Accedi con Google per eseguire il backup e sincronizzare in modo sicuro i tuoi piani alimentari, la dispensa e i progressi su tutti i tuoi dispositivi.",
    continueWithoutLogin: "Continua senza account",
    settingsStepGoal: "Obiettivo Passi Giornaliero",
    settingsHydrationGoal: "Obiettivo Idratazione Giornaliero",
    settingsUserGoals: "Obiettivi Utente",
    settingsAppPreferences: "Preferenze App",
    settingsMacrosMode: "ModalitÃ  Macronutrienti",
    settingsMacrosModeDescription: "Mostra i dettagli nutrizionali (kcal e macro) in tutta l'app.",
    settingsProfessionalCheaterMode: "ModalitÃ  Sgarratore Professionista",
    settingsProfessionalCheaterModeDescription: "Mostra il pulsante per registrare gli sgarri e il relativo grafico nei progressi.",
    settingsStatus: "Stato",
    simulateApp: "Simula App",
    simulateAppTitle: "Popola l'app con dati di esempio per vedere tutte le funzionalitÃ .",
    simulateAppDescription: "Prova l'App",
    exitSimulation: "Esci dalla Simulazione",
    exitSimulationTitle: "Termina la simulazione e cancella tutti i dati di esempio",
    notifications: "Notifiche",
    pushNotifications: "Notifiche Push",
    pushNotificationsDescription: "Ricevi promemoria anche quando l'app Ã¨ chiusa.",
    enablePushNotifications: "Abilita Notifiche Push",
    pushNotificationsSubscribed: "Abilitate",
    pushNotificationsDenied: "Bloccate",
    pushNotificationsUnsupported: "Non supportate",
    pushNotificationsError: "Errore",
    adminLoginTitle: "Accesso Admin",
    usernameLabel: "Nome Utente",
    passwordLabel: "Password",
    loginButton: "Accedi",
    invalidCredentialsError: "Credenziali non valide. Per favore, riprova.",
    nutritionistPortalTitle: "Portale Nutrizionista",
    logoutButton: "Esci",
    notFoundTitle: "404 - Pagina Non Trovata",
    notFoundMessage: "La pagina che stai cercando non esiste o non hai il permesso di accedervi.",
    createPlanTab: "Crea Piano",
    manageIngredientsTab: "Gestisci Ingredienti",
    planLibraryTab: "Libreria Piani",
    noPlansInLibrary: "Nessun Piano Trovato",
    noPlansInLibrarySubtitle: "Crea un nuovo piano per vederlo qui.",
    download: "Scarica",
    delete: "Elimina",
    edit: "Modifica",
    view: "Visualizza",
    deletePlanConfirmationTitle: "Conferma Eliminazione",
    deletePlanConfirmationMessage: "Sei sicuro di voler eliminare questo piano? L'azione Ã¨ irreversibile.",
    createdOn: "Creato il",
    addNewIngredientPlaceholder: "Nome del nuovo ingrediente...",
    add: "Aggiungi",
    editPlanTitle: "Modifica Piano Dietetico",
    updatePlan: "Aggiorna Piano",
    viewPlanTitle: "Visualizza Piano",
    hidePassword: "Nascondi password",
    showPassword: "Mostra password",
    importCSV: "Importa CSV",
    exportJSON: "Esporta JSON",
    importCSVDescription: "Importa ingredienti da un file CSV (name,category,calories,carbs,protein,fat)",
    exportJSONDescription: "Esporta tutti gli ingredienti e i loro dati nutrizionali in un file JSON.",
    importSuccessMessage: "{count} ingredienti importati/aggiornati con successo.",
    importErrorMessage: "Errore durante l'importazione del file. Controlla il formato e la console per i dettagli.",
    importJSON: "Importa JSON",
    importJSONDescription: "Importa ingredienti da un file JSON.",
    ingredientColumnHeader: 'Ingrediente',
    populateCommonIngredients: 'Popola con ingredienti comuni',
    noIngredientsMessage: 'Nessun ingrediente presente.',
    noIngredientsSuggestion: "La tabella Ã¨ vuota. Aggiungi ingredienti manualmente o usa il pulsante ðŸ”„ per popolarla con ingredienti comuni.",
    categoryColumnHeader: 'Categoria',
    actionsColumnHeader: 'Azioni',
    searchIngredientsPlaceholder: 'Cerca per nome o categoria...',
    caloriesColumnHeader: 'Calories (kcal)',
    carbsColumnHeader: 'Carbs (g)',
    proteinColumnHeader: 'Protein (g)',
    fatColumnHeader: 'Fat (g)',
    manageRecipesTab: "Ricettario",
    recipeNameLabel: "Nome Ricetta",
    addRecipe: "Nuova Ricetta",
    editRecipe: "Modifica Ricetta",
    recipeColumnHeader: "Ricetta",
    noRecipesMessage: "Nessuna ricetta presente.",
    noRecipesSuggestion: "Aggiungi una ricetta per iniziare a costruire il tuo ricettario.",
    searchRecipesPlaceholder: "Cerca per nome ricetta...",
    deleteRecipeConfirmationTitle: "Conferma Eliminazione Ricetta",
    deleteRecipeConfirmationMessage: "Sei sicuro di voler eliminare questa ricetta? L'azione Ã¨ irreversibile.",
    importRecipesCSV: "Importa Ricette (CSV)",
    importRecipesJSON: "Importa Ricette (JSON)",
    exportRecipesJSON: "Esporta Ricette (JSON)",
    selectRecipePlaceholder: "Scegli una ricetta...",
    managePatientsTab: "Lista Pazienti",
    noPatientsInLibrary: "Nessun Paziente Trovato",
    noPatientsInLibrarySubtitle: "Aggiungi un nuovo paziente per iniziare.",
    addPatient: "Nuovo Paziente",
    firstNameLabel: "Nome",
    lastNameLabel: "Cognome",
    deletePatientConfirmationTitle: "Conferma Eliminazione Paziente",
    deletePatientConfirmationMessage: "Sei sicuro di voler eliminare questo paziente?",
    createPersonalizedPlan: "Crea Piano",
    assignExistingPlan: "Associa Piano",
    assignedPlan: "Piano Associato",
    noPlanAssigned: "Nessun piano associato",
    selectPlanToAssign: "Seleziona un piano da associare",
    assignPlan: "Associa",
    unassignPlan: "Disassocia Piano",
    unassignPlanConfirmationTitle: "Conferma Disassociazione",
    unassignPlanConfirmationMessage: "Sei sicuro di voler disassociare questo piano dal paziente?",


    // SetPlanDatesModal.tsx
    setPlanDatesTitle: "Imposta Durata del Piano",
    setPlanDatesSubtitle: "Seleziona una data di inizio e di fine per il tuo nuovo piano dietetico.",
    startDateLabel: "Data di Inizio",
    endDateLabel: "Data di Fine",
    startPlanButton: "Inizia Piano",
    dateValidationError: "La data di fine deve essere successiva alla data di inizio.",

    // ManualPlanEntryForm.tsx
    manualEntryTitle: "Crea il Tuo Piano Dietetico",
    mealTitleLabel: "Nome del piatto (opzionale)",
    procedureLabel: "Procedimento",
    procedurePlaceholder: "Descrivi qui i passaggi per la preparazione...",
    ingredientsLabel: "Ingredienti",
    addIngredient: "Aggiungi Ingrediente",
    removeIngredient: "Rimuovi Ingrediente",
    savePlan: "Salva Piano",
    cancel: "Annulla",
    planEmptyError: "Il piano inviato Ã¨ vuoto. Per favore, aggiungi almeno un ingrediente.",
    planNameLabel: "Nome del Piano",
    planNamePlaceholder: "Es. Dieta Ipo-calorica Settimana 1",
    sharePlan: "Condividi",
    sharing: "Condivisione",
    markAsCheatMeal: "Pasto Sgarro",
    markAsRegularMeal: "Pasto Normale",
    cheatMealDescriptionPlaceholder: "Descrivi lo sgarro (es. Pizza con amici, cena fuori...)",
    savePlanError: "Si Ã¨ verificato un errore durante il salvataggio del piano. Controlla la console e riprova.",
    sessionErrorTitle: "Errore di Sessione",
    sessionErrorMessage: "La sessione di login non Ã¨ valida. Per favore, accedi di nuovo.",
    sharePlanErrorTitle: "Errore di Condivisione",
    sharePlanErrorMessage: "Si Ã¨ verificato un errore durante la condivisione del piano: {error}",
    ingredientNameEmptyError: "Il nome dell'ingrediente non puÃ² essere vuoto.",
    importSuccessTitle: "Importazione Completata",
    recipesImportSuccessMessage: "{count} ricette importate con successo.",
    recipesImportErrorMessage: "Errore durante l'importazione del file: {error}",
    
    // FileUpload.tsx
    clickToUpload: "Clicca per caricare",
    dragAndDrop: "o trascina e rilascia",
    
    // JsonImportButton.tsx
    clickToImport: "Clicca per importare",
    jsonFile: "File JSON del tuo piano dietetico",

    // Loader.tsx
    loadingPlanTitle: "Caricamento del piano...",
    loadingPlanMessage: "Un momento, stiamo recuperando i tuoi dati.",
    importingPlanTitle: "Importazione del piano condiviso...",
    importingPlanMessage: "Attendere prego, stiamo caricando il piano dal link.",
    syncingTitle: "Sincronizzazione con Google Drive...",
    syncingMessage: "Attendi mentre sincronizziamo i tuoi dati.",
    progressComplete: "% Completo",

    // ErrorMessage.tsx
    errorOccurred: "Si Ã¨ verificato un errore",

    // ActivePlanNameEditor.tsx
    editPlanNameLabel: "Modifica nome del piano dietetico",
    
    // DailyPlanView.tsx
    noPlanToday: "Nessun Piano per Oggi",
    noPlanTodaySubtitle: "Nessun pasto Ã¨ programmato per oggi nel tuo piano attuale.",
    todaysPlan: "Piano di Oggi:",
    markAsDone: "Segna come completato",
    markAsToDo: "Segna come da fare",
    toggleAllMealItemsTitle: "Seleziona/Deseleziona tutti gli alimenti",
    logCheatMealTitle: "Registra uno sgarro",
    undoCheatMealTitle: "Annulla sgarro",
    cheatMealBadge: "SGARRO",
    mealsTab: "Pasti",
    trackersTab: "Tracker",

    // CheatMealModal.tsx
    cheatMealModalTitle: "Registra uno Sgarro",
    cheatMealModalPrompt: "Cosa hai mangiato al posto di questo pasto?",
    cheatMealModalPlaceholder: "Descrivi il tuo pasto qui...",

    // ShoppingListView.tsx
    shoppingListTitle: "Lista della Spesa",
    moveToPantry: "Sposta in Dispensa",
    shoppingListEmptyTitle: "Tutto Pronto!",
    shoppingListEmptyMessage: "La tua lista della spesa Ã¨ vuota. Sei pronto per iniziare la settimana!",
    shoppingListEmptyButton: "Vai al Piano di Oggi",
    recalculateList: "Ricalcola Lista",
    recalculating: "Ricalcolando",
    addItem: "Aggiungi Voce",
    addCategory: "Aggiungi Categoria",
    newCategoryPrompt: "Nome nuova categoria",
    save: "Salva",
    deleteItemTitle: "Elimina Voce",
    editItemTitle: "Modifica Voce",
    ingredientPlaceholder: "Nome Ingrediente (es. Pollo)",
    quantityPlaceholder: "QuantitÃ  (es. 100)",
    quantityUnitLabel: "UnitÃ ",
    selectAll: "Seleziona Tutto",
    shoppingListSetupTitle: "Prepara il tuo piano!",
    shoppingListSetupMessage: "Controlla la tua lista della spesa. Sposta gli articoli che hai giÃ  nella tua dispensa per iniziare.",
    shoppingMode: "ModalitÃ  Spesa",
    shareList: "Condividi Lista",
    listCopied: "Lista copiata negli appunti!",
    completedItems: "Articoli Acquistati",
    reorderCategoryUp: "Sposta Su",
    reorderCategoryDown: "Sposta GiÃ¹",
    listShareTitle: "Lista della Spesa per {planName}",

    // ShareLinkModal.tsx
    shareLinkTitle: "Piano Condiviso",
    shareLinkInstruction: "Copia e invia questo link al tuo cliente. Aprendolo, potrÃ  importare il piano direttamente nell'app.",
    copyLink: "Copia",
    linkCopied: "Copiato!",

    // PantryView.tsx
    pantryTitle: "La Mia Dispensa",
    pantryEmpty: "La tua dispensa Ã¨ vuota. Vai a fare la spesa!",
    moveToShoppingListTitle: "Sposta di nuovo nella Lista della Spesa",
    addItemToPantryTitle: "Aggiungi Articolo alla Dispensa",
    itemNamePlaceholder: "Nome Articolo (es. Latte)",
    selectCategoryPrompt: "Seleziona una categoria",
    newCategoryOption: "Crea nuova categoria...",
    uncategorized: "Altro",
    pantryExpiryDate: "Data di Scadenza",
    pantryLowStockThreshold: "Avviso Scorte Basse",
    pantryThresholdPlaceholder: "es. 100",
    itemExpiresSoon: "In scadenza!",
    itemExpired: "Scaduto!",

    // ArchiveView.tsx
    archiveEmpty: "Archivio Vuoto",
    archiveEmptySubtitle: "Quando usi il pulsante 'Cambia Dieta', il tuo vecchio piano verrÃ  salvato qui.",
    archiveTitle: "Piani Dietetici Archiviati",

    // ArchivedPlanItem.tsx
    restorePlanTitle: "Ripristina questo piano",
    restore: "Ripristina",

    // ExamplePdf.tsx
    exampleTitle: "Esempio di Formato PDF",
    exampleSubtitle: "Per risultati ottimali, assicurati che il tuo PDF sia strutturato in modo simile, con giorni e pasti chiaramente definiti.",
    exampleDay: "LUNEDI",
    exampleMealBreakfast: "COLAZIONE",
    exampleItem1: "1 vasetto di yogurt di soia (125g)",
    exampleItem2: "30g di cereali integrali",
    exampleMealLunch: "PRANZO",
    exampleItem3: "60g di riso venere",
    exampleItem4: "90g di ceci in barattolo",
    exampleMealDinner: "CENA",
    exampleItem5: "Polpette di ricotta veg",
    exampleItem6: "100g di melanzane grigliate",
    
    // Hydration & Alarms
    hydrationTrackerTitle: "Tracciamento Idratazione",
    hydrationGoal: "Obiettivo giornaliero:",
    hydrationUnit: "Litri",
    hydrationIntake: "Assunzione di oggi:",
    hydrationUnitMl: "ml",
    editIntakeTitle: "Clicca per modificare",
    mealTime: "Orario pasto",
    notificationMealTitle: "Ãˆ ora di {mealName}!",
    notificationMealBody: "Ãˆ il momento di mangiare: {mealTitle}",
    notificationHydrationTitle: "Promemoria Idratazione!",
    notificationHydrationBody: "Ãˆ ora di bere un po' d'acqua. Bevi circa {amount}ml per rimanere in linea con il tuo obiettivo.",
    snackbarReminder: "Sei indietro con l'idratazione! Bevi {amount}ml per rimetterti in pari.",
    snackbarDone: "Fatto!",
    quickAddWaterTitle: "Aggiunta Rapida",

    // Nutrition
    dailySummaryTitle: "Riepilogo Nutrizionale Giornaliero",
    nutritionCarbs: "Carboidrati",
    nutritionProtein: "Proteine",
    nutritionFat: "Grassi",
    nutritionCalories: "Calorie",
    nutritionUnitG: "g",
    nutritionUnitKcal: "kcal",
    recalculateNutrition: "Ricalcola Nutrizione",
    recalculateNutritionTitle: "Ricalcola i valori nutrizionali per questo pasto",
    recalcModalTitle: "Conferma Ricalcolo",
    recalcModalContent: "I valori nutrizionali sono stime generate da un'IA e potrebbero non essere scientificamente accurati. Sono intesi come linee guida. Vuoi procedere?",
    confirm: "Conferma",
    actualIntakeTitle: "Assunzione Effettiva",
    recalculatingActuals: "Calcolo assunzione effettiva in corso...",
    recalculateActualsButton: "Calcola Assunzione Effettiva",
    plannedShort: "Pian.",
    nutritionDisclaimer: "I valori sono stime AI e da intendersi come guida, non come parere medico.",

    // Meal Modification
    resetMealToPresetTitle: "Ripristina Pasto",
    resetMealModalTitle: "Conferma Ripristino",
    resetMealModalContent: "Tutte le modifiche a questo pasto (ingredienti, tempi, stato 'usato') verranno annullate e verrÃ  ripristinata la versione originale. Sei sicuro?",

    // PWA
    installPwaPrompt: "Installa questa app per un'esperienza migliore e accesso offline.",
    install: "Installa",
    dismiss: "Ignora",

    // Google Login & Sync
    signIn: "Accedi",
    signOut: "Esci",
    signInTitle: "Accedi con Google per sincronizzare i dati",
    signOutTitle: "Esci dall'account",
    syncDisabled: "Accesso non configurato. La sincronizzazione Ã¨ disabilitata.",

    // Steps
    stepTrackerTitle: "Tracciamento Passi",
    stepGoal: "Obiettivo giornaliero:",
    stepsUnit: "passi",
    stepsTaken: "Passi di oggi:",
    editStepsTitle: "Clicca per modificare",
    quickAddStepsTitle: "Aggiunta Rapida",
    activityHours: "Ore di attivitÃ :",
    estimatedCalories: "Calorie Bruciate Stimate:",
    caloriesUnit: "kcal",
    hoursUnit: "h",
    quickAddDurationTitle: "Aggiunta Rapida",

    // Body Metrics
    bodyMetricsTitle: "Dati Corporei",
    weight: "Peso",
    height: "Altezza",
    bodyFat: "Massa Grassa",
    leanMass: "Massa Magra",
    bodyWater: "Acqua Corporea",
    unitKg: "kg",
    unitCm: "cm",
    unitPercent: "%",
    
    // Progress View
    progressTitle: "I Tuoi Progressi",
    dateRange: "Intervallo di Tempo",
    last7Days: "Ultimi 7 Giorni",
    last30Days: "Ultimi 30 Giorni",
    last90Days: "Ultimi 90 Giorni",
    weightAndFatChartTitle: "Andamento Peso e Massa Grassa",
    adherenceChartTitle: "Aderenza al Piano Pasti",
    calorieIntakeChartTitle: "Introito Calorico (Pianificato vs. Effettivo)",
    hydrationChartTitle: "Andamento Idratazione e Acqua Corporea",
    stepsChartTitle: "Andamento Passi e Calorie Bruciate",
    cheatMealChartTitle: "Andamento Sgarri",
    noProgressDataTitle: "Nessun dato sui progressi ancora",
    noProgressDataSubtitle: "Servono almeno due giorni di dati registrati per visualizzare i grafici. Continua a registrare i tuoi pasti e le tue misurazioni!",
    adherence: "Aderenza",
    planned: "Pianificato",
    actual: "Effettivo",
    recalculateProgressTitle: "Ricalcola tutti i dati di progresso dall'inizio del piano",
    recalculateProgressButtonText: "Aggiorna Ora",
    recalculatingProgressButtonTextLoading: "Aggiornando...",
    waterIntake: "Idratazione",
    steps: "Passi",
    caloriesBurned: "Calorie Bruciate",
    cheatMeals: "Sgarri",
    unitCount: "n.",

    // Dashboard
    dashboardWelcome: "Bentornato, {name}!",
    dashboardSubtitle: "Ecco un riepilogo della tua giornata.",
    upcomingMeals: "Prossimo Pasto",
    noUpcomingMeals: "Ottimo lavoro! Nessun pasto rimasto per oggi.",
    todaysProgress: "Progressi di Oggi",
    weightTrend: "Andamento Peso (7gg)",
    streaksAndAchievements: "Serie & Traguardi",
    adherenceStreak: "Serie di Aderenza",
    hydrationStreak: "Serie di Idratazione",
    days: "giorni",
    hydration: "Idratazione",
    viewAllAchievements: "Mostra Tutti",
    dashboardPantryAlerts: "Avvisi Dispensa",
    dashboardExpiringSoon: "In Scadenza",
    dashboardLowStock: "Scorte Basse",
    dashboardNoAlerts: "La tua dispensa Ã¨ in ordine!",
    expiresOn: "Scade il {date}",
    dashboardExpired: "Scaduti",
    
    // Achievements
    achievementFirstDayComplete: "Primo Giorno Andato!",
    achievementFirstDayCompleteDesc: "Registra i tuoi progressi per il primo giorno.",
    achievementFirstWeekComplete: "Prima Settimana Completata!",
    achievementFirstWeekCompleteDesc: "Registra i progressi per 7 giorni.",
    achievementMonthComplete: "Un Mese di Fuoco!",
    achievementMonthCompleteDesc: "Registra i progressi per 30 giorni.",
    achievementFiveKgLost: "5kg Persi!",
    achievementFiveKgLostDesc: "Perdi 5kg rispetto al tuo peso iniziale.",
    achievement10kgLost: "Traguardo 10kg!",
    achievement10kgLostDesc: "Perdi 10kg rispetto al tuo peso iniziale.",
    achievementPerfectWeekAdherence: "Settimana di Aderenza Perfetta",
    achievementPerfectWeekAdherenceDesc: "Mantieni un'aderenza del 90%+ per 7 giorni.",
    achievementPerfectWeekHydration: "Settimana di Idratazione Perfetta",
    achievementPerfectWeekHydrationDesc: "Raggiungi il tuo obiettivo di idratazione per 7 giorni.",
    achievementStepMarathon: "Maratoneta dei Passi",
    achievementStepMarathonDesc: "Totalizza 250.000 passi.",
    achievementFirstMondayComplete: "La dieta si inizia il LunedÃ¬",
    achievementFirstMondayCompleteDesc: "Completa il tuo primo LunedÃ¬ di dieta.",
    achievementPantryOrganized: "Dispensa Organizzata!",
    achievementPantryOrganizedDesc: "Sposta almeno 5 articoli nella dispensa.",
    achievementFirstCheatMeal: "Piccolo Sgarro Concesso",
    achievementFirstCheatMealDesc: "Registra il tuo primo pasto sgarro.",

    // Achievements Modal
    allAchievementsTitle: "Tutti i Traguardi",
    unlockedAchievements: "Ottenuti",
    lockedAchievements: "Da Sbloccare",
    close: "Chiudi",
  },
  en: {
    // App.tsx
    mainTitle: "LifePulse",
    mainSubtitle: "Your intelligent meal planning assistant.",
    changeDiet: "New Plan",
    changeDietTitle: "Create or restore a plan",
    exportPlan: "Export",
    exportPlanTitle: "Export plan data to a JSON file",
    tabDashboard: "Dashboard",
    tabDaily: "Today",
    goToToday: "Go to Today",
    goToTodayView: "View and edit today's plan",
    tabWeekly: "Master Plan",
    tabShopping: "Shopping",
    tabPantry: "Pantry",
    tabArchive: "Archive",
    tabProgress: "Progress",
    tabCalendar: "Calendar",
    tabSettings: "Settings",
    welcomeTitle: "Start a New Diet Plan",
    welcomeSubtitle: "Import the JSON file of your plan to get started.",
    uploadPdfTitle: "Upload Your Plan",
    viewArchived: "View Archived Plans",
    uploadNew: "Upload a New Diet Plan",
    footer: "Designed to help you embrace a healthy lifestyle every day and enhance your wellness mindset.",
    errorAndUpload: "Please try uploading a new file",
    onlineModeTitle: "Online Mode: AI analysis and nutrition are active.",
    offlineModeTitle: "Offline Mode: API quota exceeded. Basic functionality is active.",
    cancelAndReturn: "Cancel and return to plan",
    restoreFromArchiveTitle: "Or, restore an archived plan",
    planManagement: "Plan Management",
    settings: "Settings",
    theme: "Theme",
    language: "Language",
    connectionStatus: "Connection Status",
    navigation: "Navigation",
    loginSuggestionTitle: "Sync Your Progress",
    loginSuggestionMessage: "Sign in with Google to securely back up and sync your meal plans, pantry, and progress across all your devices.",
    continueWithoutLogin: "Continue without an account",
    settingsStepGoal: "Daily Step Goal",
    settingsHydrationGoal: "Daily Hydration Goal",
    settingsUserGoals: "User Goals",
    settingsAppPreferences: "App Preferences",
    settingsMacrosMode: "Macronutrients Mode",
    settingsMacrosModeDescription: "Show nutritional details (kcal & macros) throughout the app.",
    settingsProfessionalCheaterMode: "Professional Cheater Mode",
    settingsProfessionalCheaterModeDescription: "Shows the button to log cheat meals and the related chart in the progress view.",
    settingsStatus: "Status",
    simulateApp: "Simulate App",
    simulateAppTitle: "Populate the app with sample data to see all features.",
    simulateAppDescription: "Try the App",
    exitSimulation: "Exit Simulation",
    exitSimulationTitle: "End the simulation and delete all sample data",
    notifications: "Notifications",
    pushNotifications: "Push Notifications",
    pushNotificationsDescription: "Get reminders even when the app is closed.",
    enablePushNotifications: "Enable Push Notifications",
    pushNotificationsSubscribed: "Subscribed",
    pushNotificationsDenied: "Denied",
    pushNotificationsUnsupported: "Unsupported",
    pushNotificationsError: "Error",
    adminLoginTitle: "Admin Access",
    usernameLabel: "Username",
    passwordLabel: "Password",
    loginButton: "Login",
    invalidCredentialsError: "Invalid credentials. Please try again.",
    nutritionistPortalTitle: "Nutritionist Portal",
    logoutButton: "Logout",
    notFoundTitle: "404 - Not Found",
    notFoundMessage: "The page you are looking for does not exist or you do not have permission to access it.",
    createPlanTab: "Create Plan",
    manageIngredientsTab: "Manage Ingredients",
    planLibraryTab: "Plan Library",
    noPlansInLibrary: "No Plans Found",
    noPlansInLibrarySubtitle: "Create a new plan to see it here.",
    download: "Download",
    delete: "Delete",
    edit: "Edit",
    view: "View",
    deletePlanConfirmationTitle: "Confirm Deletion",
    deletePlanConfirmationMessage: "Are you sure you want to delete this plan? This action cannot be undone.",
    createdOn: "Created on",
    addNewIngredientPlaceholder: "New ingredient name...",
    add: "Add",
    editPlanTitle: "Edit Diet Plan",
    updatePlan: "Update Plan",
    viewPlanTitle: "View Plan",
    hidePassword: "Hide password",
    showPassword: "Show password",
    importCSV: "Import CSV",
    exportJSON: "Export JSON",
    importCSVDescription: "Import ingredients from a CSV file (name,category,calories,carbs,protein,fat)",
    exportJSONDescription: "Export all ingredients and their nutritional data to a JSON file.",
    importSuccessMessage: "{count} ingredients imported/updated successfully.",
    importErrorMessage: "Error importing file. Check the format and console for details.",
    importJSON: "Import JSON",
    importJSONDescription: "Import ingredients from a JSON file.",
    ingredientColumnHeader: 'Ingredient',
    populateCommonIngredients: 'Populate with common ingredients',
    noIngredientsMessage: 'No ingredients found.',
    noIngredientsSuggestion: "The table is empty. Add ingredients manually or use the ðŸ”„ button to populate it with common ingredients.",
    categoryColumnHeader: 'Category',
    actionsColumnHeader: 'Actions',
    searchIngredientsPlaceholder: 'Search by name or category...',
    caloriesColumnHeader: 'Calories (kcal)',
    carbsColumnHeader: 'Carbs (g)',
    proteinColumnHeader: 'Protein (g)',
    fatColumnHeader: 'Fat (g)',
    manageRecipesTab: "Recipe Book",
    recipeNameLabel: "Recipe Name",
    addRecipe: "New Recipe",
    editRecipe: "Edit Recipe",
    recipeColumnHeader: "Recipe",
    noRecipesMessage: "No recipes found.",
    noRecipesSuggestion: "Add a recipe to start building your recipe book.",
    searchRecipesPlaceholder: "Search by recipe name...",
    deleteRecipeConfirmationTitle: "Confirm Recipe Deletion",
    deleteRecipeConfirmationMessage: "Are you sure you want to delete this recipe? This action cannot be undone.",
    importRecipesCSV: "Import Recipes (CSV)",
    importRecipesJSON: "Import Recipes (JSON)",
    exportRecipesJSON: "Export Recipes (JSON)",
    selectRecipePlaceholder: "Select a recipe...",
    managePatientsTab: "Patient List",
    noPatientsInLibrary: "No Patients Found",
    noPatientsInLibrarySubtitle: "Add a new patient to get started.",
    addPatient: "New Patient",
    firstNameLabel: "First Name",
    lastNameLabel: "Last Name",
    deletePatientConfirmationTitle: "Confirm Patient Deletion",
    deletePatientConfirmationMessage: "Are you sure you want to delete this patient?",
    createPersonalizedPlan: "Create Plan",
    assignExistingPlan: "Assign Plan",
    assignedPlan: "Assigned Plan",
    noPlanAssigned: "No plan assigned",
    selectPlanToAssign: "Select a plan to assign",
    assignPlan: "Assign",
    unassignPlan: "Unassign Plan",
    unassignPlanConfirmationTitle: "Confirm Unassignment",
    unassignPlanConfirmationMessage: "Are you sure you want to unassign this plan from the patient?",

    // SetPlanDatesModal.tsx
    setPlanDatesTitle: "Set Plan Duration",
    setPlanDatesSubtitle: "Select a start and end date for your new diet plan.",
    startDateLabel: "Start Date",
    endDateLabel: "End Date",
    startPlanButton: "Start Plan",
    dateValidationError: "End date must be after the start date.",

    // ManualPlanEntryForm.tsx
    manualEntryTitle: "Create Your Diet Plan",
    mealTitleLabel: "Dish name (optional)",
    procedureLabel: "Procedure",
    procedurePlaceholder: "Describe the preparation steps here...",
    ingredientsLabel: "Ingredients",
    addIngredient: "Add Ingredient",
    removeIngredient: "Remove Ingredient",
    savePlan: "Save Plan",
    cancel: "Cancel",
    planEmptyError: "The submitted plan is empty. Please add at least one ingredient.",
    planNameLabel: "Plan Name",
    planNamePlaceholder: "e.g. Low-Calorie Diet Week 1",
    sharePlan: "Share",
    sharing: "Sharing",
    markAsCheatMeal: "Cheat Meal",
    markAsRegularMeal: "Regular Meal",
    cheatMealDescriptionPlaceholder: "Describe the cheat meal (e.g., Pizza with friends, dinner out...)",
    savePlanError: "An error occurred while saving the plan. Please check the console and try again.",
    sessionErrorTitle: "Session Error",
    sessionErrorMessage: "Login session is not valid. Please log in again.",
    sharePlanErrorTitle: "Sharing Error",
    sharePlanErrorMessage: "An error occurred while sharing the plan: {error}",
    ingredientNameEmptyError: "Ingredient name cannot be empty.",
    importSuccessTitle: "Import Successful",
    recipesImportSuccessMessage: "{count} recipes imported successfully.",
    recipesImportErrorMessage: "Error importing file: {error}",
    
    // FileUpload.tsx
    clickToUpload: "Click to upload",
    dragAndDrop: "or drag and drop",
    
    // JsonImportButton.tsx
    clickToImport: "Click to import",
    jsonFile: "JSON file of your diet plan",

    // Loader.tsx
    loadingPlanTitle: "Loading your plan...",
    loadingPlanMessage: "Just a moment while we retrieve your data.",
    importingPlanTitle: "Importing shared plan...",
    importingPlanMessage: "Please wait, we are loading the plan from the link.",
    syncingTitle: "Syncing with Google Drive...",
    syncingMessage: "Please wait while we sync your data.",
    progressComplete: "% Complete",

    // ErrorMessage.tsx
    errorOccurred: "An error occurred",

    // ActivePlanNameEditor.tsx
    editPlanNameLabel: "Edit diet plan name",
    
    // DailyPlanView.tsx
    noPlanToday: "No Plan for Today",
    noPlanTodaySubtitle: "No meals are scheduled for today in your current plan.",
    todaysPlan: "Today's Plan:",
    markAsDone: "Mark as done",
    markAsToDo: "Mark as to-do",
    toggleAllMealItemsTitle: "Select/Deselect all items",
    logCheatMealTitle: "Log a cheat meal",
    undoCheatMealTitle: "Undo cheat meal",
    cheatMealBadge: "CHEAT",
    mealsTab: "Meals",
    trackersTab: "Trackers",

    // CheatMealModal.tsx
    cheatMealModalTitle: "Log a Cheat Meal",
    cheatMealModalPrompt: "What did you eat instead of this meal?",
    cheatMealModalPlaceholder: "Describe your meal here...",

    // ShoppingListView.tsx
    shoppingListTitle: "Shopping List",
    moveToPantry: "Move to Pantry",
    shoppingListEmptyTitle: "All Set!",
    shoppingListEmptyMessage: "Your shopping list is clear. You're ready to start your week!",
    shoppingListEmptyButton: "Go to Today's Plan",
    recalculateList: "Recalculate List",
    recalculating: "Recalculating",
    addItem: "Add Item",
    addCategory: "Add Category",
    newCategoryPrompt: "New category name",
    save: "Save",
    deleteItemTitle: "Delete Item",
    editItemTitle: "Edit Item",
    ingredientPlaceholder: "Ingredient Name (e.g. Chicken)",
    quantityPlaceholder: "Quantity (e.g. 100)",
    quantityUnitLabel: "Unit",
    selectAll: "Select All",
    shoppingListSetupTitle: "Get your plan ready!",
    shoppingListSetupMessage: "Review your shopping list. Move any items you already have to your pantry to get started.",
    shoppingMode: "Shopping Mode",
    shareList: "Share List",
    listCopied: "List copied to clipboard!",
    completedItems: "Completed Items",
    reorderCategoryUp: "Move Up",
    reorderCategoryDown: "Move Down",
    listShareTitle: "Shopping List for {planName}",
    
    // ShareLinkModal.tsx
    shareLinkTitle: "Plan Shared",
    shareLinkInstruction: "Copy and send this link to your client. Opening it will import the plan directly into their app.",
    copyLink: "Copy",
    linkCopied: "Copied!",

    // PantryView.tsx
    pantryTitle: "My Pantry",
    pantryEmpty: "Your pantry is empty. Time to go shopping!",
    moveToShoppingListTitle: "Move back to Shopping List",
    addItemToPantryTitle: "Add Item to Pantry",
    itemNamePlaceholder: "Item Name (e.g. Milk)",
    selectCategoryPrompt: "Select a category",
    newCategoryOption: "Create new category...",
    uncategorized: "Uncategorized",
    pantryExpiryDate: "Expiry Date",
    pantryLowStockThreshold: "Low Stock Alert",
    pantryThresholdPlaceholder: "e.g., 100",
    itemExpiresSoon: "Expires soon!",
    itemExpired: "Expired!",

    // ArchiveView.tsx
    archiveEmpty: "Archive is Empty",
    archiveEmptySubtitle: "When you use the 'Change Diet' button, your old plan will be saved here.",
    archiveTitle: "Archived Diet Plans",

    // ArchivedPlanItem.tsx
    restorePlanTitle: "Restore this plan",
    restore: "Restore",

    // ExamplePdf.tsx
    exampleTitle: "Example PDF Format",
    exampleSubtitle: "For best results, ensure your PDF is structured similarly, with clearly defined days and meals.",
    exampleDay: "MONDAY",
    exampleMealBreakfast: "BREAKFAST",
    exampleItem1: "1 tub of soy yogurt (125g)",
    exampleItem2: "30g of whole grain cereals",
    exampleMealLunch: "LUNCH",
    exampleItem3: "60g of brown rice",
    exampleItem4: "90g of canned chickpeas",
    exampleMealDinner: "DINNER",
    exampleItem5: "Veggie ricotta meatballs",
    exampleItem6: "100g of grilled eggplants",

    // Hydration & Alarms
    hydrationTrackerTitle: "Hydration Tracker",
    hydrationGoal: "Daily goal:",
    hydrationUnit: "Liters",
    hydrationIntake: "Today's intake:",
    hydrationUnitMl: "ml",
    editIntakeTitle: "Click to edit",
    mealTime: "Meal time",
    notificationMealTitle: "It's {mealName} time!",
    notificationMealBody: "Time to eat: {mealTitle}",
    notificationHydrationTitle: "Hydration Reminder!",
    notificationHydrationBody: "It's time for some water. Drink about {amount}ml to stay on track.",
    snackbarReminder: "You're behind on hydration! Drink {amount}ml to catch up.",
    snackbarDone: "Done!",
    quickAddWaterTitle: "Quick Add",

    // Nutrition
    dailySummaryTitle: "Daily Nutrition Summary",
    nutritionCarbs: "Carbs",
    nutritionProtein: "Protein",
    nutritionFat: "Fat",
    nutritionCalories: "Calories",
    nutritionUnitG: "g",
    nutritionUnitKcal: "kcal",
    recalculateNutrition: "Recalculate Nutrition",
    recalculateNutritionTitle: "Recalculate nutritional values for this meal",
    recalcModalTitle: "Confirm Recalculation",
    recalcModalContent: "Nutritional values are AI-generated estimates and may not be scientifically accurate. They are intended as a guideline. Do you want to proceed?",
    confirm: "Confirm",
    actualIntakeTitle: "Actual Intake",
    recalculatingActuals: "Calculating actual intake...",
    recalculateActualsButton: "Calculate Actual Intake",
    plannedShort: "Plan.",
    nutritionDisclaimer: "Values are AI estimates intended as a guideline, not as medical advice.",
    
    // Meal Modification
    resetMealToPresetTitle: "Reset Meal",
    resetMealModalTitle: "Confirm Reset",
    resetMealModalContent: "All changes to this meal (ingredients, time, 'used' status) will be reverted to the original version. Are you sure?",
    
    // PWA
    installPwaPrompt: "Install this app for a better experience and offline access.",
    install: "Install",
    dismiss: "Dismiss",
    
    // Google Login & Sync
    signIn: "Sign In",
    signOut: "Sign Out",
    signInTitle: "Sign in with Google to sync your data",
    signOutTitle: "Sign out of your account",
    syncDisabled: "Login not configured. Sync is disabled.",

    // Steps
    stepTrackerTitle: "Step Tracker",
    stepGoal: "Daily goal:",
    stepsUnit: "steps",
    stepsTaken: "Today's steps:",
    editStepsTitle: "Click to edit",
    quickAddStepsTitle: "Quick Add",
    activityHours: "Activity hours:",
    estimatedCalories: "Estimated Calories Burned:",
    caloriesUnit: "kcal",
    hoursUnit: "h",
    quickAddDurationTitle: "Quick Add",

    // Body Metrics
    bodyMetricsTitle: "Body Metrics",
    weight: "Weight",
    height: "Height",
    bodyFat: "Body Fat",
    leanMass: "Lean Mass",
    bodyWater: "Body Water",
    unitKg: "kg",
    unitCm: "cm",
    unitPercent: "%",
    
    // Progress View
    progressTitle: "Your Progress",
    dateRange: "Time Range",
    last7Days: "Last 7 Days",
    last30Days: "Last 30 Days",
    last90Days: "Last 90 Days",
    weightAndFatChartTitle: "Weight & Body Fat Trend",
    adherenceChartTitle: "Meal Plan Adherence",
    calorieIntakeChartTitle: "Calorie Intake (Planned vs. Actual)",
    hydrationChartTitle: "Hydration & Body Water Trend",
    stepsChartTitle: "Steps & Calories Burned Trend",
    cheatMealChartTitle: "Cheat Meals Trend",
    noProgressDataTitle: "No progress data yet",
    noProgressDataSubtitle: "At least two days of logged data are needed to display charts. Keep tracking your meals and measurements!",
    adherence: "Adherence",
    planned: "Planned",
    actual: "Actual",
    recalculateProgressTitle: "Recalculate all progress data since the plan started",
    recalculateProgressButtonText: "Update Now",
    recalculatingProgressButtonTextLoading: "Updating...",
    waterIntake: "Hydration",
    steps: "Steps",
    caloriesBurned: "Calories Burned",
    cheatMeals: "Cheat Meals",
    unitCount: "#",

    // Dashboard
    dashboardWelcome: "Welcome back, {name}!",
    dashboardSubtitle: "Hereâ€™s a summary of your day.",
    upcomingMeals: "Next Meal",
    noUpcomingMeals: "Great job! No meals left for today.",
    todaysProgress: "Today's Progress",
    weightTrend: "Weight Trend (7d)",
    streaksAndAchievements: "Streaks & Achievements",
    adherenceStreak: "Adherence Streak",
    hydrationStreak: "Hydration Streak",
    days: "days",
    hydration: "Hydration",
    viewAllAchievements: "View All",
    dashboardPantryAlerts: "Pantry Alerts",
    dashboardExpiringSoon: "Expiring Soon",
    dashboardLowStock: "Low Stock",
    dashboardNoAlerts: "Your pantry is in good shape!",
    expiresOn: "Expires on {date}",
    dashboardExpired: "Expired",

    // Achievements
    achievementFirstDayComplete: "First Day Done!",
    achievementFirstDayCompleteDesc: "Log your progress for the first day.",
    achievementFirstWeekComplete: "First Week Complete!",
    achievementFirstWeekCompleteDesc: "Log your progress for 7 days.",
    achievementMonthComplete: "Fiery Month Complete!",
    achievementMonthCompleteDesc: "Log your progress for 30 days.",
    achievementFiveKgLost: "5kg Lost!",
    achievementFiveKgLostDesc: "Lose 5kg from your starting weight.",
    achievement10kgLost: "10kg Milestone!",
    achievement10kgLostDesc: "Lose 10kg from your starting weight.",
    achievementPerfectWeekAdherence: "Perfect Adherence Week",
    achievementPerfectWeekAdherenceDesc: "Maintain 90%+ adherence for 7 days.",
    achievementPerfectWeekHydration: "Perfect Hydration Week",
    achievementPerfectWeekHydrationDesc: "Reach your hydration goal for 7 days.",
    achievementStepMarathon: "Step Marathoner",
    achievementStepMarathonDesc: "Reach a total of 250,000 steps.",
    achievementFirstMondayComplete: "Diets Start on Monday",
    achievementFirstMondayCompleteDesc: "Complete your first Monday of the diet.",
    achievementPantryOrganized: "Pantry Organized!",
    achievementPantryOrganizedDesc: "Move at least 5 items to your pantry.",
    achievementFirstCheatMeal: "First Cheat Meal!",
    achievementFirstCheatMealDesc: "Log your first cheat meal.",

    // Achievements Modal
    allAchievementsTitle: "All Achievements",
    unlockedAchievements: "Unlocked",
    lockedAchievements: "To Unlock",
    close: "Close",
  }
};

let i18nLocaleGetter: () => Locale = () => 'it';

export function setI18nLocaleGetter(getter: () => Locale) {
  i18nLocaleGetter = getter;
}

// Fix: Add type check to handle string array translations correctly and prevent runtime errors.
export function t(key: keyof typeof translations['it'], options?: Record<string, string>): string {
  const locale = i18nLocaleGetter();
  const rawTranslation = translations[locale][key] || translations['en'][key] || key;

  if (typeof rawTranslation !== 'string') {
    console.warn(`t() function was called for a translation key ('${key}') that returns an array. Use t_dynamic() instead.`);
    return key;
  }

  let translation = rawTranslation;
  if (options) {
      Object.keys(options).forEach(optionKey => {
          translation = translation.replace(`{${optionKey}}`, options[optionKey]);
      });
  }
  return translation;
}

export function t_dynamic(key: 'readingMessages' | 'structuringPlanMessages' | 'analyzingNutritionMessages' | 'generatingListMessages'): string[] {
    const locale = i18nLocaleGetter();
    // @ts-ignore
    return translations[locale][key] || translations['en'][key] || [];
}
